(function(e){function t(t){for(var a,r,u=t[0],i=t[1],s=t[2],d=0,f=[];d<u.length;d++)r=u[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0a10b548":"3924f04d","chunk-2ca9eab9":"0b1745ce","chunk-2d0aba2e":"ea30889b","chunk-2d0e95df":"f30a1670","chunk-2d230e44":"676609cf","chunk-47458a5d":"b607b578","chunk-981e42ae":"be3f045a","chunk-b92ff390":"ab24c29a","chunk-ed62d2f8":"f0f3ebf1"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0a10b548":1,"chunk-2ca9eab9":1,"chunk-47458a5d":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-0a10b548":"0abcec4c","chunk-2ca9eab9":"b3b7d139","chunk-2d0aba2e":"31d6cfe0","chunk-2d0e95df":"31d6cfe0","chunk-2d230e44":"31d6cfe0","chunk-47458a5d":"67aee88a","chunk-981e42ae":"31d6cfe0","chunk-b92ff390":"31d6cfe0","chunk-ed62d2f8":"31d6cfe0"}[e]+".css",o=i.p+a,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===a||d===o))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],d=s.getAttribute("data-href");if(d===a||d===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],l.parentNode.removeChild(l),n(c)},l.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var f=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}o[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var l=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"487c":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{include:e.cachePages}},[n("router-view")],1),n("TabBar"),n("div",{staticStyle:{height:"50px"}})],1)},o=[],c=n("5530"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Layout-container"},[n("van-tabbar",{attrs:{route:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{icon:"home-o",to:"/home"}},[e._v("首页")]),n("van-tabbar-item",{attrs:{icon:"search",to:"/category"}},[e._v("分类")]),n("van-tabbar-item",{attrs:{icon:"friends-o",to:"/cart"}},[e._v("购物车")]),n("van-tabbar-item",{attrs:{icon:"setting-o",to:"/user"}},[e._v("我的")])],1)],1)},i=[],s={name:"Layout",data:function(){return{active:0}}},d=s,f=n("2877"),l=Object(f["a"])(d,u,i,!1,null,"6ab942c0",null),h=l.exports,b=n("2f62"),p={components:{TabBar:h},computed:Object(c["a"])({},Object(b["d"])(["cachePages"]))},m=p,v=Object(f["a"])(m,r,o,!1,null,null,null),g=v.exports,k=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));a["a"].use(k["a"]);var y=[{path:"/",redirect:"/home"},{path:"*",component:function(){return n.e("chunk-2d0e95df").then(n.bind(null,"8cdb"))}},{path:"/login",name:"Login",meta:{title:"登录"},component:function(){return n.e("chunk-2d230e44").then(n.bind(null,"ede4"))}},{path:"/home",name:"Home",meta:{title:"首页"},component:function(){return n.e("chunk-47458a5d").then(n.bind(null,"b3d7"))}},{path:"/category",name:"Category",meta:{title:"分类"},component:function(){return n.e("chunk-ed62d2f8").then(n.bind(null,"bb51"))}},{path:"/cart",name:"Cart",meta:{title:"购物车"},component:function(){return n.e("chunk-2ca9eab9").then(n.bind(null,"c228"))}},{path:"/user",name:"User",meta:{title:"我的"},component:function(){return n.e("chunk-0a10b548").then(n.bind(null,"9419"))}},{path:"/home/search",name:"Search",component:function(){return n.e("chunk-2d0aba2e").then(n.bind(null,"15b6"))}},{path:"/goodslist",name:"GoodsList",component:function(){return n.e("chunk-b92ff390").then(n.bind(null,"384b"))}},{path:"/goodsinfo/:iid",name:"GoodsInfo",component:function(){return n.e("chunk-981e42ae").then(n.bind(null,"65ed"))}}],w=new k["a"]({routes:y});w.beforeEach((function(e,t,n){var r=window.localStorage.getItem("user_token");"/cart"===e.path&&(r?n():(a["a"].prototype.$toast("请先登录"),setTimeout((function(){n("/user")}),1e3))),n()}));var _=w,O=(n("caad"),n("2532"),n("a434"),n("7db0"),n("53ca")),P=function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return t}},S=function(e,t){"object"===Object(O["a"])(t)&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},j=function(e){window.localStorage.removeItem(e)};a["a"].use(b["a"]);var C="user_token",T=new b["a"].Store({state:{user:P(C),cartlist:[],cachePages:["goodsList"]},mutations:{setUser:function(e,t){e.user=t,S(C,e.user)},removeItem:function(){j(C)},addCount:function(e,t){t.goods_count++},addToCart:function(e,t){e.cartlist.push(t)},addCachePage:function(e,t){e.cachePages.includes(t)||e.cachePages.push(t)},removeCachePage:function(e,t){var n=e.cachePages.indexOf(t);-1!==n&&e.cachePages.splice(n,1)}},actions:{addCart:function(e,t){return new Promise((function(n,a){var r=e.state.cartlist.find((function(e){return e.goods_id===t.goods_id}));r?(e.commit("addCount",r),n("当前的商品数量加1")):(e.commit("addToCart",t),n("添加了新商品"))}))}},getters:{cartLength:function(e){return e.cartlist.length},cartList:function(e){return e.cartlist}},modules:{}}),x=n("bc3a"),E=n.n(x),L=(n("f06a"),n("20fb")),I=(n("18e9"),n("471a")),N=(n("9cb7"),n("66fd")),A=(n("4467"),n("c36e")),B=(n("ab71"),n("58e6")),$=(n("2994"),n("2bdd")),J=(n("5852"),n("d961")),M=(n("66cf"),n("343b")),U=(n("4b0a"),n("2bb1")),q=(n("7844"),n("5596")),D=(n("e17f"),n("2241")),G=(n("4056"),n("44bf")),H=(n("0ec5"),n("21ab")),F=(n("3df5"),n("2830")),K=(n("4d48"),n("d1e1")),z=(n("81e6"),n("9ffb")),Q=(n("0653"),n("34e9")),R=(n("c194"),n("7744")),V=(n("e7e5"),n("d399")),W=(n("a52c"),n("2ed4")),X=(n("537a"),n("ac28")),Y=(n("5246"),n("6b41")),Z=(n("be7f"),n("565f")),ee=(n("38d5"),n("772a")),te=(n("66b9"),n("b650"));a["a"].use(te["a"]),a["a"].use(ee["a"]),a["a"].use(Z["a"]),a["a"].use(Y["a"]),a["a"].use(X["a"]),a["a"].use(W["a"]),a["a"].use(V["a"]),a["a"].use(R["a"]),a["a"].use(Q["a"]),a["a"].use(z["a"]),a["a"].use(K["a"]),a["a"].use(F["a"]),a["a"].use(H["a"]),a["a"].use(G["a"]),a["a"].use(D["a"]),a["a"].use(q["a"]),a["a"].use(U["a"]),a["a"].use(M["a"]),a["a"].use(J["a"]),a["a"].use($["a"]),a["a"].use(B["a"]),a["a"].use(A["a"]),a["a"].use(N["a"]),a["a"].use(I["a"]),a["a"].use(L["a"]);n("5cfb");var ne=n("1f94"),ae=n.n(ne);n("487c");a["a"].use(ae.a),a["a"].config.productionTip=!1,a["a"].prototype.$http=E.a,new a["a"]({router:_,store:T,render:function(e){return e(g)}}).$mount("#app")}});
//# sourceMappingURL=app.060a1bd6.js.map